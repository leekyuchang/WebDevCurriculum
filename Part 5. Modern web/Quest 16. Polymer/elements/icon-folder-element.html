<link rel="import" href="../bower_components/polymer/polymer.html">


<dom-module id="icon-folder-element">
    <template>
        <style>
            .icondom {
                position: absolute;
                top: 0;
                left: 0;
                width: 50px;
            	height: 50px;
                background-color: yellow;
            }

            .folderdom {
                position: absolute;
                top: 0;
                left: 0;
                width: 50px;
            	height: 50px;
                background-color: skyblue;
            }

            .windowdom {
                position: absolute;
                top: 0;
                left: 0;
                width: 70px;
            	height: 70px;
                background-color: red;
            }

        </style>
        <div class="dom"></div>

    </template>
</dom-module>

<script>

    Polymer({
        is: "icon-folder-element",


        ready: function() {

            var dom = this.$$('.dom');
            var desktopDom = document.querySelector('desktop-system-element').querySelector('.desktopDom');

            dom.addEventListener('mousedown', function(e) {
            		dom.isMouseDown = true;
            		dom.mouseCoord = [e.pageX, e.pageY];

            });

        	dom.addEventListener('mousemove', function(e) {
        		if(dom.isMouseDown) {
        			var diff = [
        				e.pageX - dom.mouseCoord[0],
        				e.pageY - dom.mouseCoord[1]
        			];
        			dom.mouseCoord = [e.pageX, e.pageY];
        			dom.style.left = (Number(dom.style.left.replace('px', '')) + diff[0]) + 'px';
        			dom.style.top = (Number(dom.style.top.replace('px', '')) + diff[1]) + 'px';
        		}

        		var mouseUpEvent = document.addEventListener('mouseup', function() {
        			dom.isMouseDown = false;
        			document.removeEventListener('mouseup', mouseUpEvent);
        		});

        	});
        }

    });

</script>
