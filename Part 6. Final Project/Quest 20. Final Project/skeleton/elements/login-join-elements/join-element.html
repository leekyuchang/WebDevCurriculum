<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="join-element">

    <template>

        <style>
            .joinContainer {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba( 0, 0, 0, 0.5 );
            }

            .joinFormContainer {
                position: absolute;
                top: calc(50% - 250px);
                left: calc(50% - 300px);
                width: 500px;
                height: 500px;
                background-color: rgb(179, 255, 147);
            }

            .joinForm {
                position: absolute;
                top: 50px;
            }

            .googleForm {
                position: absolute;
                top: 0;
                left: 100px;
                width: 300px;
                height: 70px;
            }

            .googlebtn {
                border: none;
                padding: 0;
            }

            button {
                background-color: Transparent;
                padding: 0;
                border: none;
            }

            button:focus {outline:0;}

            .googleImg {
                width: 300px;
                height: 70px;
            }

            .orSpan {

            }

            .joinInputForm {
                position: absolute;
                top: 100px;
                left: 100px;
            }

            .joinInput {
                margin-bottom: 10px;
            }

            input[type=text] {
                width: 300px;
                height: 60px;
                border: none;
            }

            input::-webkit-input-placeholder {
                font-size: 20px;
                text-align: center;
            }

            .joinBtn {
                position: absolute;
                top: 230px;
                right: 0;
                width: 60px;
                height: 40px;
                border: 1px solid black;
            }


        </style>

        <div class="joinContainer" on-down="closeJoinContainer">

            <div class="joinFormContainer">

                <div class="joinForm">
                    <form method="GET" class="googleForm">
                        <button type="submit" class="googlebtn">
                            <img src="../../img/google.png" alt="googleLogin" class="googleImg">
                        </button>
    			    </form>

                    <form action="/join" method="POST" class="joinInputForm">
                        <input type="text" name="username" class="joinInput idInput" placeholder="ID">
                        <input type="text" name="password" class="joinInput passwordInput" placeholder="PASSWORD">
                        <input type="text" name="useremail" class="joinInput emailInput" placeholder="e-mail">
                        <button type="submit" class="joinBtn">Join</button>
                    </form>
                </div>

            </div>

        </div>

    </template>

    <script>
        Polymer({
            is: "join-element",

            ready: function() {

            },

            // this.logins.dom.addEventListener('loginCheck', function(e) {
        	// 	if(e.trueOrfalse !== 'false') {
        	// 		that.logins.logouttmpl.style.display = 'block';
        	// 		var tab = JSON.parse(e.trueOrfalse);
        	// 		for(var i = 0; i < tab.length; i++) {
        	// 			that.tabs.loadTab(tab[i].name);
        	// 		}
        	// 	} else if (e.trueOrfalse === 'false') {
        	// 		that.logins.logintmpl.style.display = 'block';
        	// 		that.logins.jointmpl.style.display = 'block';
        	// 	}
        	// });

        	// var ev = new Event('loginCheck');
        	// ev.req = new XMLHttpRequest();
        	// ev.req.open('GET', '/logined');
        	// ev.req.onreadystatechange = function() {
        	// 	if (ev.req.readyState == 4) {
        	// 		if (ev.req.status == 200) {
        	// 			ev.trueOrfalse = ev.req.responseText;
        	// 			that.dom.dispatchEvent(ev);
        	// 		}
        	// 	}
        	// };
        	// ev.req.send(null);


            // this.memoForm.dom.addEventListener('saveTab', function(e) {
        	// 	e.data.id = that.tabs.selectedTab.data.id;
        	// 	var req = new XMLHttpRequest();
        	// 	req.open('POST', '/save');
        	// 	req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        	// 	req.body = '';
        	// 	req.body += 'id=' + e.data.id + '&';
        	// 	req.body += 'name=' + e.data.name + '&';
        	// 	req.body += 'content=' + e.data.content;
        	// 	req.onreadystatechange = function (aEvt) {
        	// 		if (req.readyState == 4) {
        	// 			if(req.status == 200) {
        	// 				that.tabs.selectedTab.saveData(e.data);
        	// 			} else {
        	// 				console.log('error');
        	// 			}
        	// 		}
        	// 	};
        	// 	req.send(req.body);
        	// });


            closeJoinContainer: function(event) {
                // Why event.stopPropagation doesn't work???????? //
                var joinContainer = this.$$(".joinContainer");
                if(event.target == joinContainer) {
                    this.fire("closeJoinContainer");
                }
            }

        });
    </script>

</dom-module>
