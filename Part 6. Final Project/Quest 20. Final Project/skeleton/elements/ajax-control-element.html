<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">

<dom-module id="ajax-control-element">

    <template>

        <style>
            :host {
                display: block;
            }
        </style>

        <iron-ajax
            url="{{url}}"
            method="{{method}}"
            content-type="application/x-www-form-urlencoded"
            handle-as="json">
        </iron-ajax>

    </template>

    <script>
        Polymer({
            is: "ajax-control-element",

            properties: {

                method: {
                    value: "POST",
                    notify: true
                },

                // first: {
                //     value: "first",
                //     notify: true
                // },

                last: {
                    value: "last",
                    notify: true
                },

                url: {
                    computed: "computeUrl(first, last)"
                }

            },

            ready: function() {

            },

            computeUrl: function(first, last) {
                return ["http://localhost:8080/", last].join('/');
            },

            // handleResponse: function() {
            //     this.fire("handleResponse");
            // }

        });
    </script>

</dom-module>
